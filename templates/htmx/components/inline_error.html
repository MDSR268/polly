<!-- Inline Error Component - Shows errors without redirecting -->
<div class="alert alert-danger alert-dismissible fade show" role="alert">
    <i class="fas fa-exclamation-triangle me-2"></i>
    {% if message.startswith('❌') or '**' in message or '•' in message %}
        <!-- Formatted error message with sections -->
        <div class="error-content">
            {% set lines = message.split('\n') %}
            {% for line in lines %}
                {% if line.strip() %}
                    {% if line.startswith('❌') or line.startswith('📄') or line.startswith('📝') or line.startswith('⚠️') or line.startswith('💡') %}
                        <!-- Section headers -->
                        <div class="fw-bold mt-2 mb-1">{{ line }}</div>
                    {% elif line.startswith('•') %}
                        <!-- Bullet points -->
                        <div class="ms-3">{{ line }}</div>
                    {% elif line.startswith('  -') %}
                        <!-- Sub-bullet points -->
                        <div class="ms-4 text-muted">{{ line }}</div>
                    {% elif line.startswith('📁') %}
                        <!-- File reference -->
                        <div class="mt-2 text-info">{{ line }}</div>
                    {% else %}
                        <!-- Regular lines -->
                        <div>{{ line }}</div>
                    {% endif %}
                {% endif %}
            {% endfor %}
        </div>
    {% else %}
        <!-- Simple error message -->
        {{ message }}
    {% endif %}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<style>
.error-content {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.4;
}
.error-content div {
    margin-bottom: 0.25rem;
}
.alert-dismissible {
    padding-right: 3rem;
}
</style>
